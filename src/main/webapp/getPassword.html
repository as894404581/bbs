<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>找回密码-Powered by ZHTBBS Alpha</title>
		<link rel="stylesheet" href="static/css/getPassWord.css" />
		<script>
			function loadimage() {

				document.getElementById("regNum").src = "number.jsp?" + Math.random();;
			}
			function check(){
				if(checkEmail() & checkUser()){
					document.getElementById('sub').click()
				}
			}
			function checkUser() {
				var reg2 = /^([\w]{6,20})/;
				if(reg2.test(document.getElementsByName('user')[0].value)) {
					document.getElementsByName('user')[0].style.border = "solid 1px #00cc33";
					return true;
				} else {
					document.getElementsByName('user')[0].style.border = "solid 1px red";
					return false;
				}

			}

			function checkEmail() {
				var reg1 = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
				if(reg1.test(document.getElementsByName('email')[0].value)) {
					document.getElementsByName('email')[0].style.border = "solid 1px #00cc33";
					return true;
				} else {
					document.getElementsByName('email')[0].style.border = "solid 1px red";
					return false;
				}
			}
		</script>
	</head>

	<body>
		<div id="all">
			<a href="index.do"><img src="static/image/logo.png" width="400px" height="100px" /></a>
			<p>找回密码</p>
			<form action="lookForPass.do" method="post">
				<table>
					<tr>
						<td>用户名:</td>
						<td><input type="text" name="user" onblur="checkUser()" /></td>
					</tr>
					<tr>
						<td>邮箱:</td>
						<td><input type="text" name="email" onblur="checkEmail()" /></td>
					</tr>
					<tr>
						<td><img src="number.jsp" style="margin: 0px;" onclick="loadimage()" id="regNum" /></td>
						<td><input type="text" name="code"></td>
					</tr>
					<tr style="height: 50px;">
						<td colspan="2">
							<a onclick="javascript:history.back(-1);" style="padding-left:30px;padding-right: 30px;padding-top: 10px;padding-bottom: 10px;border: 1px black solid;">上一页</a>
							<a onclick="check()" style="padding-left:30px;padding-right: 30px;padding-top: 10px;padding-bottom: 10px;border: 1px black solid;">下一步</a><input type="submit" id="sub" style="display: none;">
						</td>
					</tr>
				</table>

			</form>

		</div>
	</body>

</html>